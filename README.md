# Xilinx DPU with DART IPs

This repos recreates a Vivado design with Xilinx DPU CNN accelerator and DART IPs for dynamic partial reconfiguration.
The DPU is confifured with one core and DART with one reconfigurable region using the `sum_vec` IP.


# How to run it

This script is assuming Linux operation system (Ubuntu 18.04) and Vivado 2020.2, and Vitis AI 1.3.1. The target board is the ZCU102.

First, you need to build the IPS `DPUCZDX8G_v3_3_0` and  DART `acc`. The IP `DPUCZDX8G_v3_3_0` is present in this [repository](https://github.com/Xilinx/Vitis-AI/tree/1.3.1/dsa/DPU-TRD/dpu_ip/DPUCZDX8G_v3_3_0). Double check the correct reposity version. DART `acc` IP is generated by DART when generating a design for ZCU102. The IP will be located in the directory `Sources/ip_repo` under DART project directory.

Next, in the directory `hw/ips`, create a symbolic link for the `DPUCZDX8G_v3_3_0` IP and another for DART `acc`.

Finally, run:

```
$ source /opt/Xilinx/Vivado/2020.2/settings64.sh
$ vivado -mode batch -source build.tcl
```

This script will recreate the entire Vivado project, the main block design, execute the synthesis, and export the DCP file of the synthesis process in the current directory.

## Authors

 - Alexandre Amory (January 2022), ReTiS Lab, Scuola Sant'Anna, Pisa, Italy.

## Funding
 
This software package has been developed in the context of the [AMPERE project](https://ampere-euproject.eu/). This project has received funding from the European Unionâ€™s Horizon 2020 research and innovation programme under grant agreement No 871669.
